<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Topotime timeline</title>
  <meta charset="utf-8" />
</head>

<body onload="timelineViz()">
  <div>
<!---    <a href="https://github.com/ComputingPlace/topotime"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
--->
<p style="width:600px;">This is an example of the timeline layout using topotime. It loads the JSON-formatted data shown below and processes it using the layout from <a target= "_blank" href="https://github.com/ComputingPlace/Topotime/blob/master/js/timeline.js">timeline.js</a> to create the necessary row and zoom data for timeline bars, nesting, and shared events. This example demonstrates how you could animate sub-parts to illustrate duration events during a fuzzy period. Please send any bugs or feature requests or other feedback to <a href="mailto:emeeks@stanford.edu">Elijah Meeks (emeeks@stanford.edu)</a></p>
  </div>
  <div id="controls">
    <span id="labels">click on things to get their label values</span>
    <button onclick="adjustOut()">Stretch</button>
    <button onclick="adjustIn()">Compress</button>
    <button onclick="zoomOut()">Zoom In</button>
    <button onclick="zoomIn()">Zoom Out</button>
  </div>

  <div id="vizcontainer" style="height:400px; border:1px solid darkgray;">
    <div id="routemodal" class="modal"></div>
    <div id="sitemodal" class="modal"></div>
  </div>
  <div>
    <pre>
      {
    "type": "PeriodCollection",
    "id": "pc_01",  "label": "sample period collection (simple)",
    "author": "emeeks", "rev_date": "2013-09-07",
    "projection": {"atom": "date", "origin": "1900-01-01", "datetype": "date", "scale": 1},
    "periods":[
    {
        "id": 1,
        "label": "Standard Example",
        "tSpans": [{"s": "1901-01-01", "ls": "1911-02-02", "e": "1950-05-05", "ee": "1943-01-01"}],
        "tSpanType": "periodArray",
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "plain example",
            "census tract": 167
        }
    },
    {
        "id": 2,
        "label": "Multipart Example (standard, pt2 e>12 ee:1961-01-01",
		  "tSpans": [{"s": "1901-01-01", "ls": "1901-02-02", "ee": "1919-01-01", "e": "1920-05-05"}, 
		  {"s": "1931-01-01", "ls": "1935-02-02", "ee": "1961-01-01", "e": ">12"}],
        "tSpanType": "periodArray",
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "multipart example",
            "census tract": 167
        }
    },
    {
        "id": 3,
        "label": "Cyclical Example",
        "tSpans": [{"s": "1901-01-01", "ls": "1901-02-02", "e": "1950-05-05", "ee": "1949-01-01", "cduration": "3y", "cstep": "10y"}],
        "tSpanType": "periodArray",
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "cyclical example",
            "census tract": 167
        }
    },
       {
        "id": 4,
        "label": "Duration Example",
        "tSpans": [{"s": "1901-01-01", "duration": "31y", "minduration": "28y"}],
        "tSpanType": "periodArray",
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
    {
        "id": 5,
        "label": "Estimated Example",
        "tSpanType": "periodArray",
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
        {
        "id": 6,
        "label": "Duration",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1926-01-01", "duration": "2y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
        {
        "id": 7,
        "label": "Contingent s>1.e d31y",
        "tSpanType": "periodArray",
        "tSpans": [{"s": ">1.e", "duration": "11y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
            {
        "id": 8,
        "label": "Contingent s<1 e>4",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "<1", "e": ">4"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
            {
        "id": 9,
        "label": "Contingent s>12 d20y (1-off)",
        "tSpanType": "periodArray",
        "tSpans": [{"s": ">12", "duration": "20y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
    {
        "id": 10,
        "label": "Contingent s>7 d20y",
        "tSpanType": "periodArray",
        "tSpans": [{"s": ">7", "duration": "20y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
    {
        "id": 11,
        "label": "Contingent s~10.e d20y",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "~10.e", "duration": "20y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
    {
        "id": 12,
        "label": "Contingent s>11 d20y",
        "tSpanType": "periodArray",
        "tSpans": [{"s": ">11", "duration": "20y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
    {
        "id": 13,
        "label": "Shared event",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1914-01-01", "duration": "4y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
        {
        "id": 14,
        "label": "Nested event level 1",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1920-01-01", "duration": "5y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
        {
        "id": 15,
        "label": "Nested event level 1",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1926-01-01", "duration": "4y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
        {
        "id": 16,
        "label": "Nested event level 1",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1920-01-01", "duration": "8y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
    {
        "id": 17,
        "label": "Nested event level 2",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1922-01-01", "duration": "2y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
        {
        "id": 18,
        "label": "Nested event level 2",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1922-01-01", "duration": "3y"}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    },
            {
        "id": 19,
        "label": "During Event",
        "tSpanType": "periodArray",
        "tSpans": [{"s": "1922-01-01", "e": "1950-01-01", "duration": "3y", "during": true}],
        "css_color": "#555555",
        "css_class": "life",
        "src": "DOI999",
        "properties": {
            "nuclear missiles": 100,
            "label": "duration example",
            "census tract": 167
        }
    }


    ],
	"relations": [
		{"id":1, "rel":["1", "has_part", "14" ] },
		{"id":2, "rel":["1", "participates_in", "13" ] },
		{"id":3, "rel":["4", "participates_in", "13" ] },
		{"id":4, "rel":["1", "has_part", "15" ] },
		{"id":5, "rel":["1", "has_part", "16" ] },
		{"id":6, "rel":["16", "has_part", "17" ] },
		{"id":6, "rel":["16", "has_part", "18" ] }
                
                ]
,
    "actors": [
        {"id": "@vol_5713",
        "properties": {
            "name": "Voltaire",
            "mistresses": 103
        }
            
        }
    ]
}
    </pre>
  </div>

  <div id="controlbar">
  </div>
  <footer>
<script src="js/d3.v3.min.js" type="text/javascript">
</script> <script src="js/timeline.js" type="text/javascript">
</script> <script src="js/example.js" type="text/javascript">
</script> <script src="js/topo_projection.js" type="text/javascript">
</script> <script src="js/pleiades_periods.js" type="text/javascript">
</script>
  </footer>
</body>
</html>
